<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up - SESMine Platform</title>
  <meta name="description" content="Create your SESMine account - Smart Engineering Solutions for Mining">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="https://www.sesmine.com/favicon.ico">
  
  <style>
  /* Signup-specific styles */
  body {
      background: linear-gradient(135deg, var(--sesmine-primary) 0%, var(--sesmine-secondary) 50%, var(--sesmine-accent) 100%);
      padding-top: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
  }
  
  .signup-container {
      width: 100%;
      max-width: 500px;
      padding: 2rem;
  }
  
  .signup-card {
      background: white;
      border-radius: var(--border-radius-2xl);
      padding: 3rem;
      box-shadow: var(--shadow-2xl);
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(20px);
  }
  
  .signup-header {
      text-align: center;
      margin-bottom: 2.5rem;
  }
  
  .signup-logo {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--sesmine-gold), var(--sesmine-copper));
      border-radius: var(--border-radius-xl);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      margin: 0 auto 1.5rem;
      box-shadow: var(--shadow-lg);
  }
  
  .signup-title {
      font-size: 2rem;
      font-weight: 800;
      color: var(--sesmine-primary);
      margin-bottom: 0.5rem;
  }
  
  .signup-subtitle {
      color: var(--gray-600);
      font-size: 1rem;
  }
  
  .signup-form {
      margin-bottom: 2rem;
  }
  
  .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
  }
  
  .form-group {
      margin-bottom: 1.5rem;
  }
  
  .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--gray-700);
      font-size: 0.95rem;
  }
  
  .form-input-wrapper {
      position: relative;
  }
  
  .form-input {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      border: 2px solid var(--gray-300);
      border-radius: var(--border-radius-lg);
      font-size: 1rem;
      transition: var(--transition-all);
      background: white;
  }
  
  .form-input:focus {
      outline: none;
      border-color: var(--sesmine-accent);
      box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.1);
  }
  
  .form-input.valid {
      border-color: var(--success-500);
  }
  
  .form-input.invalid {
      border-color: var(--danger-500);
  }
  
  .form-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-400);
      font-size: 1.1rem;
  }
  
  .form-select {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      border: 2px solid var(--gray-300);
      border-radius: var(--border-radius-lg);
      font-size: 1rem;
      transition: var(--transition-all);
      background: white;
      appearance: none;
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
      background-position: right 1rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 3rem;
  }
  
  .password-strength {
      margin-top: 0.5rem;
      font-size: 0.875rem;
  }
  
  .strength-bar {
      height: 4px;
      background: var(--gray-200);
      border-radius: 2px;
      overflow: hidden;
      margin: 0.25rem 0;
  }
  
  .strength-fill {
      height: 100%;
      transition: var(--transition-all);
      border-radius: 2px;
  }
  
  .strength-weak { background: var(--danger-500); width: 25%; }
  .strength-fair { background: var(--warning-500); width: 50%; }
  .strength-good { background: var(--sesmine-accent); width: 75%; }
  .strength-strong { background: var(--success-500); width: 100%; }
  
  .password-toggle {
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--gray-400);
      cursor: pointer;
      font-size: 1.1rem;
      padding: 0.25rem;
  }
  
  .password-toggle:hover {
      color: var(--sesmine-accent);
  }
  
  .terms-agreement {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      margin-bottom: 2rem;
      font-size: 0.9rem;
      color: var(--gray-600);
      line-height: 1.5;
  }
  
  .terms-checkbox {
      width: 18px;
      height: 18px;
      border: 2px solid var(--gray-300);
      border-radius: 4px;
      cursor: pointer;
      margin-top: 0.125rem;
      flex-shrink: 0;
  }
  
  .terms-checkbox:checked {
      background: var(--sesmine-accent);
      border-color: var(--sesmine-accent);
  }
  
  .terms-text a {
      color: var(--sesmine-accent);
      text-decoration: none;
      font-weight: 600;
  }
  
  .terms-text a:hover {
      text-decoration: underline;
  }
  
  .signup-btn {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, var(--sesmine-accent), var(--sesmine-secondary));
      color: white;
      border: none;
      border-radius: var(--border-radius-lg);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-all);
      box-shadow: var(--shadow-md);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
  }
  
  .signup-btn:hover {
      background: linear-gradient(135deg, var(--sesmine-secondary), var(--sesmine-primary));
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
  }
  
  .signup-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
  }
  
  .signup-divider {
      text-align: center;
      margin: 2rem 0;
      position: relative;
      color: var(--gray-500);
      font-size: 0.9rem;
  }
  
  .signup-divider::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      background: var(--gray-300);
  }
  
  .signup-divider span {
      background: white;
      padding: 0 1rem;
  }
  
  .social-signup {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 2rem;
  }
  
  .social-btn {
      padding: 0.875rem;
      border: 2px solid var(--gray-300);
      border-radius: var(--border-radius-lg);
      background: white;
      color: var(--gray-700);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-all);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      text-decoration: none;
  }
  
  .social-btn:hover {
      border-color: var(--sesmine-accent);
      color: var(--sesmine-accent);
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
  }
  
  .login-link {
      text-align: center;
      color: var(--gray-600);
      font-size: 0.95rem;
  }
  
  .login-link a {
      color: var(--sesmine-accent);
      text-decoration: none;
      font-weight: 600;
  }
  
  .login-link a:hover {
      color: var(--sesmine-secondary);
      text-decoration: underline;
  }
  
  .back-to-home {
      position: absolute;
      top: 2rem;
      left: 2rem;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.2);
      padding: 0.75rem 1rem;
      border-radius: var(--border-radius-lg);
      text-decoration: none;
      font-weight: 600;
      transition: var(--transition-all);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      gap: 0.5rem;
  }
  
  .back-to-home:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.4);
      transform: translateY(-2px);
  }
  
  .validation-error {
      color: var(--danger-500);
      font-size: 0.875rem;
      margin-top: 0.25rem;
      display: flex;
      align-items: center;
      gap: 0.25rem;
  }
  
  .loading-spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
  }
  
  @keyframes spin {
      to { transform: rotate(360deg); }
  }
  
  @media (max-width: 768px) {
      .signup-container {
          padding: 1rem;
      }
      
      .signup-card {
          padding: 2rem;
      }
      
      .form-row {
          grid-template-columns: 1fr;
      }
      
      .social-signup {
          grid-template-columns: 1fr;
      }
      
      .back-to-home {
          position: static;
          margin-bottom: 2rem;
          align-self: flex-start;
      }
      
      body {
          align-items: flex-start;
          padding-top: 2rem;
      }
  }
  </style>
</head>
<body>
  <a href="index.html" class="back-to-home">
      <i class="fas fa-arrow-left"></i>
      Back to Home
  </a>

  <div class="signup-container">
      <div class="signup-card">
          <div class="signup-header">
              <div class="signup-logo">
                  üèîÔ∏è
              </div>
              <h1 class="signup-title">Join SESMine</h1>
              <p class="signup-subtitle">Create your account and start optimizing your mining operations</p>
          </div>

          <form class="signup-form" id="signupForm" data-validate>
              <div class="form-row">
                  <div class="form-group">
                      <label for="firstName" class="form-label">First Name</label>
                      <div class="form-input-wrapper">
                          <i class="fas fa-user form-icon"></i>
                          <input 
                              type="text" 
                              id="firstName" 
                              name="firstName" 
                              class="form-input" 
                              placeholder="John"
                              data-validate="required|minLength:2"
                              required
                          >
                      </div>
                  </div>

                  <div class="form-group">
                      <label for="lastName" class="form-label">Last Name</label>
                      <div class="form-input-wrapper">
                          <i class="fas fa-user form-icon"></i>
                          <input 
                              type="text" 
                              id="lastName" 
                              name="lastName" 
                              class="form-input" 
                              placeholder="Doe"
                              data-validate="required|minLength:2"
                              required
                          >
                      </div>
                  </div>
              </div>

              <div class="form-group">
                  <label for="email" class="form-label">Email Address</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-envelope form-icon"></i>
                      <input 
                          type="email" 
                          id="email" 
                          name="email" 
                          class="form-input" 
                          placeholder="john.doe@company.com"
                          data-validate="required|email"
                          required
                      >
                  </div>
              </div>

              <div class="form-group">
                  <label for="company" class="form-label">Company</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-building form-icon"></i>
                      <input 
                          type="text" 
                          id="company" 
                          name="company" 
                          class="form-input" 
                          placeholder="Your Company Name"
                          data-validate="required|minLength:2"
                          required
                      >
                  </div>
              </div>

              <div class="form-group">
                  <label for="role" class="form-label">Role</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-briefcase form-icon"></i>
                      <select 
                          id="role" 
                          name="role" 
                          class="form-select"
                          data-validate="required"
                          required
                      >
                          <option value="">Select your role</option>
                          <option value="mining-engineer">Mining Engineer</option>
                          <option value="project-manager">Project Manager</option>
                          <option value="cost-estimator">Cost Estimator</option>
                          <option value="operations-manager">Operations Manager</option>
                          <option value="consultant">Consultant</option>
                          <option value="executive">Executive</option>
                          <option value="analyst">Analyst</option>
                          <option value="other">Other</option>
                      </select>
                  </div>
              </div>

              <div class="form-group">
                  <label for="phone" class="form-label">Phone Number (Optional)</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-phone form-icon"></i>
                      <input 
                          type="tel" 
                          id="phone" 
                          name="phone" 
                          class="form-input" 
                          placeholder="+1 (555) 123-4567"
                          data-validate="phone"
                      >
                  </div>
              </div>

              <div class="form-group">
                  <label for="password" class="form-label">Password</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-lock form-icon"></i>
                      <input 
                          type="password" 
                          id="password" 
                          name="password" 
                          class="form-input" 
                          placeholder="Create a strong password"
                          data-validate="required|minLength:8"
                          required
                      >
                      <button type="button" class="password-toggle" onclick="togglePassword('password')">
                          <i class="fas fa-eye" id="passwordToggleIcon"></i>
                      </button>
                  </div>
                  <div class="password-strength" id="passwordStrength" style="display: none;">
                      <div class="strength-bar">
                          <div class="strength-fill" id="strengthFill"></div>
                      </div>
                      <span id="strengthText">Password strength</span>
                  </div>
              </div>

              <div class="form-group">
                  <label for="confirmPassword" class="form-label">Confirm Password</label>
                  <div class="form-input-wrapper">
                      <i class="fas fa-lock form-icon"></i>
                      <input 
                          type="password" 
                          id="confirmPassword" 
                          name="confirmPassword" 
                          class="form-input" 
                          placeholder="Confirm your password"
                          data-validate="required"
                          required
                      >
                      <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                          <i class="fas fa-eye" id="confirmPasswordToggleIcon"></i>
                      </button>
                  </div>
              </div>

              <div class="terms-agreement">
                  <input type="checkbox" class="terms-checkbox" id="agreeTerms" name="agreeTerms" required>
                  <div class="terms-text">
                      I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and 
                      <a href="#" onclick="showPrivacy()">Privacy Policy</a>. I also agree to receive 
                      product updates and marketing communications from SESMine.
                  </div>
              </div>

              <button type="submit" class="signup-btn" id="signupBtn">
                  <span id="signupBtnText">Create Account</span>
                  <div class="loading-spinner" id="signupSpinner" style="display: none;"></div>
              </button>
          </form>

          <div class="signup-divider">
              <span>Or sign up with</span>
          </div>

          <div class="social-signup">
              <button class="social-btn" onclick="socialSignup('google')">
                  <i class="fab fa-google"></i>
                  Google
              </button>
              <button class="social-btn" onclick="socialSignup('microsoft')">
                  <i class="fab fa-microsoft"></i>
                  Microsoft
              </button>
          </div>

          <div class="login-link">
              Already have an account? <a href="login.html">Sign in here</a>
          </div>
      </div>
  </div>

  <script src="script.js"></script>
  <script>
  // Signup-specific JavaScript
  document.addEventListener('DOMContentLoaded', function() {
      initializeSignup();
  });

  function initializeSignup() {
      console.log('üìù Signup page initialized');
      
      // Initialize form handling
      initializeSignupForm();
      
      // Initialize password strength checker
      initializePasswordStrength();
      
      // Track page view
      analytics.track('signup_page_view', {
          referrer: document.referrer,
          timestamp: new Date().toISOString()
      });
  }

  function initializeSignupForm() {
      const form = document.getElementById('signupForm');
      
      form.addEventListener('submit', function(e) {
          e.preventDefault();
          handleSignup();
      });

      // Real-time validation
      const inputs = form.querySelectorAll('input, select');
      inputs.forEach(input => {
          input.addEventListener('blur', function() {
              if (this.hasAttribute('data-validate')) {
                  validator.validateField(this);
              }
          });
      });

      // Password confirmation validation
      const confirmPassword = document.getElementById('confirmPassword');
      confirmPassword.addEventListener('input', function() {
          validatePasswordMatch();
      });
  }

  function initializePasswordStrength() {
      const passwordInput = document.getElementById('password');
      const strengthIndicator = document.getElementById('passwordStrength');
      const strengthFill = document.getElementById('strengthFill');
      const strengthText = document.getElementById('strengthText');

      passwordInput.addEventListener('input', function() {
          const password = this.value;
          
          if (password.length > 0) {
              strengthIndicator.style.display = 'block';
              const strength = calculatePasswordStrength(password);
              updatePasswordStrengthUI(strength, strengthFill, strengthText);
          } else {
              strengthIndicator.style.display = 'none';
          }
      });
  }

  function calculatePasswordStrength(password) {
      let score = 0;
      let feedback = [];

      // Length check
      if (password.length >= 8) score += 1;
      else feedback.push('at least 8 characters');

      // Lowercase check
      if (/[a-z]/.test(password)) score += 1;
      else feedback.push('lowercase letters');

      // Uppercase check
      if (/[A-Z]/.test(password)) score += 1;
      else feedback.push('uppercase letters');

      // Number check
      if (/\d/.test(password)) score += 1;
      else feedback.push('numbers');

      // Special character check
      if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) score += 1;
      else feedback.push('special characters');

      return {
          score: score,
          feedback: feedback,
          level: score <= 2 ? 'weak' : score === 3 ? 'fair' : score === 4 ? 'good' : 'strong'
      };
  }

  function updatePasswordStrengthUI(strength, fillElement, textElement) {
      // Remove existing classes
      fillElement.className = 'strength-fill';
      
      // Add appropriate class
      fillElement.classList.add(`strength-${strength.level}`);
      
      // Update text
      const levelText = strength.level.charAt(0).toUpperCase() + strength.level.slice(1);
      if (strength.feedback.length > 0) {
          textElement.textContent = `${levelText} - Add: ${strength.feedback.join(', ')}`;
      } else {
          textElement.textContent = `${levelText} password`;
      }
  }

  function validatePasswordMatch() {
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const confirmInput = document.getElementById('confirmPassword');

      if (confirmPassword && password !== confirmPassword) {
          confirmInput.classList.add('invalid');
          confirmInput.classList.remove('valid');
          
          // Show error message
          let errorDiv = confirmInput.parentNode.parentNode.querySelector('.validation-error');
          if (!errorDiv) {
              errorDiv = document.createElement('div');
              errorDiv.className = 'validation-error';
              confirmInput.parentNode.parentNode.appendChild(errorDiv);
          }
          errorDiv.textContent = 'Passwords do not match';
          
          return false;
      } else if (confirmPassword) {
          confirmInput.classList.add('valid');
          confirmInput.classList.remove('invalid');
          
          // Remove error message
          const errorDiv = confirmInput.parentNode.parentNode.querySelector('.validation-error');
          if (errorDiv) {
              errorDiv.remove();
          }
          
          return true;
      }
      
      return true;
  }

  function handleSignup() {
      const form = document.getElementById('signupForm');
      const formData = new FormData(form);

      // Show loading state
      setSignupLoading(true);

      // Validate form
      if (!validator.validateForm(form)) {
          setSignupLoading(false);
          return;
      }

      // Validate password match
      if (!validatePasswordMatch()) {
          setSignupLoading(false);
          showNotification('‚ùå Passwords do not match', 'error');
          return;
      }

      // Check terms agreement
      if (!formData.get('agreeTerms')) {
          setSignupLoading(false);
          showNotification('‚ùå Please agree to the Terms of Service', 'error');
          return;
      }

      // Simulate signup API call
      setTimeout(() => {
          processSignup(formData);
      }, 2000);

      // Track signup attempt
      analytics.track('signup_attempt', {
          email: formData.get('email'),
          company: formData.get('company'),
          role: formData.get('role'),
          timestamp: new Date().toISOString()
      });
  }

  function processSignup(formData) {
      // Simulate successful signup
      const userData = {
          firstName: formData.get('firstName'),
          lastName: formData.get('lastName'),
          email: formData.get('email'),
          company: formData.get('company'),
          role: formData.get('role'),
          phone: formData.get('phone'),
          signupTime: new Date().toISOString()
      };

      // Generate auth token
      const authToken = generateAuthToken();

      // Store user data
      localStorage.setItem('sesmine_auth_token', authToken);
      localStorage.setItem('sesmine_user_data', JSON.stringify(userData));

      // Track successful signup
      analytics.track('signup_success', {
          email: userData.email,
          role: userData.role,
          timestamp: new Date().toISOString()
      });

      // Show success message
      showNotification('üéâ Account created successfully! Welcome to SESMine!', 'success');

      // Redirect after delay
      setTimeout(() => {
          window.location.href = 'home.html';
      }, 2000);
  }

  function setSignupLoading(loading) {
      const btn = document.getElementById('signupBtn');
      const btnText = document.getElementById('signupBtnText');
      const spinner = document.getElementById('signupSpinner');

      if (loading) {
          btn.disabled = true;
          btnText.textContent = 'Creating Account...';
          spinner.style.display = 'block';
      } else {
          btn.disabled = false;
          btnText.textContent = 'Create Account';
          spinner.style.display = 'none';
      }
  }

  function togglePassword(inputId) {
      const passwordInput = document.getElementById(inputId);
      const toggleIcon = document.getElementById(inputId + 'ToggleIcon');

      if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          toggleIcon.classList.remove('fa-eye');
          toggleIcon.classList.add('fa-eye-slash');
      } else {
          passwordInput.type = 'password';
          toggleIcon.classList.remove('fa-eye-slash');
          toggleIcon.classList.add('fa-eye');
      }
  }

  function socialSignup(provider) {
      showNotification(`üîó Redirecting to ${provider} signup...`, 'info');
      
      analytics.track('social_signup_attempt', {
          provider: provider,
          timestamp: new Date().toISOString()
      });

      // Simulate social signup
      setTimeout(() => {
          const socialEmail = `user@${provider}.com`;
          const authToken = generateAuthToken();
          const userData = {
              firstName: provider.charAt(0).toUpperCase() + provider.slice(1),
              lastName: 'User',
              email: socialEmail,
              company: `${provider} Company`,
              role: 'user',
              signupTime: new Date().toISOString(),
              provider: provider
          };

          localStorage.setItem('sesmine_auth_token', authToken);
          localStorage.setItem('sesmine_user_data', JSON.stringify(userData));

          showNotification('‚úÖ Social signup successful!', 'success');
          
          setTimeout(() => {
              window.location.href = 'home.html';
          }, 1500);

      }, 2000);
  }

  function showTerms() {
      showNotification('üìÑ Terms of Service would open in a new window', 'info');
      analytics.track('terms_viewed', { timestamp: new Date().toISOString() });
  }

  function showPrivacy() {
      showNotification('üîí Privacy Policy would open in a new window', 'info');
      analytics.track('privacy_viewed', { timestamp: new Date().toISOString() });
  }

  function generateAuthToken() {
      return 'sesmine_token_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
  }

  console.log('üìù Signup system ready');
  console.log('üîí Password strength validation enabled');
  console.log('‚úÖ Real-time form validation active');
  </script>
</body>
</html>
